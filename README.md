# ACLtool(s)
Tool(s) to interact with CISCO ACLs.

The tool(s) are built on `acllib.py` library which implements functions to parse CISCO ACLs in IOS or NEXUS formats.

## acllib
This is the main library on which the rest of the tools are built

### main functions

#### parseACLFile(filename,acl_type="ios"): acl[]
```
filename = path to the file containing the ACL
acl_type = the format of the ACL to parse ("ios" for IOS, "nxs" for NEXUS)
```
parses _filename_ considering it of format _acl_type_

returns a list of records representing the ACL, each record generated by a `permit` ore `deny` rule is:
```
{
  'action': string,
  'protocol': string,
  'source': {
    'address': IPv4Network object,
    'start-port': int | "any",
    'end-port': int | "any",
    'plain-string': string
  },
  'destination': {
    'address': IPv4Network object,
    'start-port': int | "any",
    'end-port': int | "any",
    'plain-string': string
  }
}
```
other rules (which should be comments, actually) get carried on in a record which is:
```
{
  'action': "raw",
  'line': [the original line]
}
```

#### ACL2Text(acl,lang="ios"): (valid_translations[],problems[])
```
acl = acl structure in the format created by ParseACLFile()
lang = the format of the ACL to create ("ios" for IOS, "nxs" for NEXUS)
```
returns a list of string representations of the ACL _acl_, using the _lang_ syntax (_lang_ can be "ios" or "nxs"), and a list of strings of the problems encountered

### helper functions
... to be filled...

## ACLtranslate
a tool to translate CISCO ACLs from IOS syntax to NEXUS syntax, and vice-versa.

Usage:
`acltranslate.py -i <input filename> [-if ios|nxs] [-of ios|nxs]`

`-if ios|nxs` specifies the syntax to expect from the input file ("ios" for IOS, "nxs" for NEXUS)

`-of ios|nxs` specifies the syntax for the output file

the tool automatically creates an _input filename_.ios or _input filename_.nxs, depending from the output syntax, and an _input filename_.ios.errors or _input filename_.nxs.errors containing the translation errors.
The translation errors are usually also in the translated ACL file, in lines starting with `INVALID`
